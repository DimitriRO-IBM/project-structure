<div class="login">
  <!--
   <form [formGroup]="loginForm">
    <label>
      Intranet ID
      <input type="text" formControlName="username">
    </label>

    <label>
      Password
      <input type="password" formControlName="password">
    </label>

    <label>
      Environment
      <select formControlName="environment">
        <option *ngFor="let env of environmentOptions" [value]="env.id">
          {{ env.value }}
        </option>
      </select>
    </label>

    <button (click)="logIn()">
      Log in
    </button>

    <button (click)="contactUs()">
      Contact us
    </button>

    <button (click)="cancel()">
      Cancel
    </button>
  </form>
  -->

  <button mat-flat-button color="primary" (click)="loadCsvFile()">
    Load CSV Data
  </button>
  <div *ngIf="isLoading && !loaded; else dataLoaded">{{ isLoading ? '' : 'Loading...'}}</div>
  <ng-template #dataLoaded>
    <div>Data loaded ! See console for details</div>
  </ng-template>

  <div *ngIf="csvHeaders?.length && csvData?.length">
    <table mat-table [dataSource]="csvData" class="mat-elevation-z8">
      <ng-container matColumnDef="{{ key }}" *ngFor="let key of csvHeaders">
        <th mat-header-cell *matHeaderCellDef> {{ key }} </th>
        <td mat-cell *matCellDef="let row"> {{ row[key] }} </td>
      </ng-container>

      <!-- Header and Row Declarations -->
      <tr mat-header-row *matHeaderRowDef="csvHeaders"></tr>
      <tr mat-row *matRowDef="let row; columns: csvHeaders"></tr>
    </table>
  </div>
</div>
